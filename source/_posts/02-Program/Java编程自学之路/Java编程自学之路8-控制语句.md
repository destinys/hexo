---
title: Java编程自学之路：控制语句
categories: Program
tags: java
date: 2021-08-03
author: Semon
---

# Java控制语句

Java控制语句大致可分为三类：

+ 选择语句
  + `if...else`
  + `switch`
+ 循环语句
  + `while`
  + `do...while`
  + `for`
  + `foreach`
+ 中断语句
  + `break`
  + `continue`
  + `return`

## 选择语句

### if…else语句

`if`语句会判断括号中条件是否成立，如果成立则执行`if`语句后的代码块，否则跳过继续向下执行；`if`语句可单独使用，也可支持多级嵌套使用；

**语法：**

```java
if( 布尔表达式1) {
//布尔表达式1为true时需要执行的代码块
} else if (布尔表达式2) {
  //布尔表达式2位true时需要执行的代码块
} else {
  //以上if后布尔表达式都不为true时，需要执行的代码块
}

```

### switch语句

`switch`语句判断一个变量与一系列值中的每个值是否相等，每个值称为一个分支；

`switch`语句有以下规则：

+ `switch`语句的变量只支持`byte`、`short`、`int`、`char`、`String`或`enum`
+ `switch`语句可以拥有多个`case`语句，每个`case`后面跟一个要比较的值和冒号
+ `case`语句中的值的类型必须与变量的数据类型相同，而且只能是常量或者字面常量
+ 当变量的值与`case`语句的值相等时，那么`case`语句之后的语句开始执行，知道`break`语句出现才会跳出`switch`语句
+ 当遇到`break`语句时，`switch`语句终止。程序跳转到`switch`语句后面的语句执行，`case`语句不必须要包含`break`语句；如果没有`break`语句出现，则程序会继续执行吓一跳`case`语句，知道出现`break`语句
+ `switch`语句可以包含一个`default`分支，且该分支必须是`switch`语句的最后一个分支。`default`在没有`case`语句的值和变量值相等的时候执行。`default`分支不需要`break`语句

语法：

```java
switch(expression){
    case value :
       //语句
       break; //可选
    case value :
       //语句
       break; //可选
    //你可以有任意数量的case语句
    default : //可选
       //语句
       break; //可选，但一般建议加上
}
```

## 循环语句

### while循环

只要布尔表达式为`true`，`while`循环体会一直执行下去。

语法：

```java
while( 布尔表达式 ) {
    //循环内容
}
```

### do while循环

对于`while`语句而言，如果不满足条件，则不能进入循环。但有时候我们需要即使不满足条件，也至少执行一次。

`do while`和`while`循环类似，不同的是，`do while`循环至少会执行一次。

语法：

```java
do {
    //代码语句
} while (布尔表达式);
```

### for循环

虽然所有循环结构都可以用`while`或者`do while`表示，但Java提供了另一种语句—`for`循环，使一些循环结构变得更加简单。`for`循环执行的次数是在执行前就确定的。

语法：

```java
for (初始化; 布尔表达式; 更新) {
    //代码语句
}
```

* 最先执行初始化步骤。可以声明一种类型，但可初始化一个或多个循环控制变量，也可以是空语句。
* 然后，检测布尔表达式的值。如果为 true，循环体被执行。如果为 false，循环终止，开始执行循环体后面的语句。
* 执行一次循环后，更新循环控制变量。
* 再次检测布尔表达式。循环执行上面的过程。

### foreach循环

Java5引入了一种主要主要用于数组的增强型for循环。

语法：

```java
for (声明语句 : 表达式) {
    //代码句子
}
```

**声明语句**：声明新的局部变量，该变量的类型必须和数组元素的类型匹配。其作用域限定在循环语句块，其值与此时数组元素的值相等。

**表达式**：表达式是要访问的数组名，或者是返回值为数组的方法。

## 中断语句

### break关键字

`break`主要用在循环语句或者`switch`语句中，用来跳出整个语句块。

`break`跳出最里层循环，并且继续执行该循环下面的语句；

### continue关键字

`continue`适用于任何循环控制结构中。作用是让程序立刻跳转到下一次循环的迭代。在`for`循环中，`continue`语句使程序立即跳转到更新语句。在`while`或者`do while`循环中，程序立即跳转到布尔表达式的判断语句。

### return关键字

跳出整个函数体，函数体后面大部分不再执行。

## 最佳实践

+ 选择分支特别多的时候，`switch`由于`if...else if... else`语句
+ `switch`语句尽量使用`default`
+ `switch`语句中的`default`必须放在最后面
+ `foreach`循环优于传统`for`循环
+ 不要循环遍历容器元素，然后删除特定元素。正确姿势应该是遍历容器的迭代器，删除元素。
